<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Outbounding Resources for Domain Investors</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Curated Outbounding tools for domain investors, including prospecting, research, email finding, verification, outreach, CRM, and compliance." />
  <style>
    :root { --maxw: 840px; --bg: #0b0d12; --card: #131722; --text: #e8eefc; --muted: #9fb0d0; --link: #7fb4ff; }
    html, body { margin: 0; padding: 0; background: var(--bg); color: var(--text); font: 16px/1.55 system-ui, sans-serif; }
    a { color: var(--link); text-decoration: none; }
    a:hover { text-decoration: underline; }
    header { padding: 32px 16px 12px; border-bottom: 1px solid #1e2433; }
    .wrap { max-width: var(--maxw); margin: 0 auto; }
    .brand { font-size: 22px; font-weight: 700; }
    main { padding: 20px 16px 48px; }
    h1 { font-size: 26px; margin: 4px 0 10px; }
    .note { color: var(--muted); font-size: 14px; margin: 8px 0 18px; }
    section { background: var(--card); border: 1px solid #1e2433; border-radius: 14px; padding: 16px; margin-bottom: 16px; }
    h2 { margin-top: 0; font-size: 20px; }
    ul { margin: 0; padding-left: 18px; }
    .toc { display: flex; flex-wrap: wrap; gap: 8px; margin: 0 0 14px; padding: 0; list-style: none; }
    .toc a { display: inline-block; padding: 6px 10px; border: 1px solid #22304a; border-radius: 10px; background: #0f1420; }
    footer { color: var(--muted); padding: 28px 16px 48px; border-top: 1px solid #1e2433; }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="brand"><a href="../index.html">DomainBookmarks</a></div>
      <nav class="note"><a href="../index.html">Home</a> / Outbounding</nav>
    </div>
  </header>

  <main>
    <div class="wrap">
      <h1>Outbounding</h1>
      <p id="page-description" class="note"></p>

      <ul id="toc" class="toc"></ul>
      <div id="sections"></div>
    </div>
  </main>

  <footer>
    <div class="wrap">© <span id="y"></span> DomainBookmarks</div>
  </footer>

  <script>
    document.getElementById("y").textContent = new Date().getFullYear();

    function sortByName(a, b) {
      const an = (a.name || a).toString().trim();
      const bn = (b.name || b).toString().trim();
      const comp = an.localeCompare(bn, 'en', { sensitivity: 'base' });
      if (comp !== 0) return comp;
      // Tiebreaker to keep it deterministic
      const au = (a.url || '').toString();
      const bu = (b.url || '').toString();
      return au.localeCompare(bu, 'en', { sensitivity: 'base' });
    }

    function idFromHeading(text) {
      return text.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/(^-|-$)/g, '');
    }

    fetch('outbounding-data.json')
      .then(res => res.json())
      .then(data => {
        // Description
        document.getElementById('page-description').textContent = data.description || '';

        // Sort section names
        const sectionNames = Object.keys(data.sections || {}).sort((a, b) =>
          a.localeCompare(b, 'en', { sensitivity: 'base' })
        );

        const tocEl = document.getElementById('toc');
        const sectionsEl = document.getElementById('sections');

        // Build TOC and sections
        sectionNames.forEach(sectionName => {
          const secId = idFromHeading(sectionName);

          // TOC
          const tocItem = document.createElement('li');
          tocItem.innerHTML = `<a href="#${secId}">${sectionName}</a>`;
          tocEl.appendChild(tocItem);

          // Section
          const sectionEl = document.createElement('section');
          sectionEl.id = secId;
          sectionEl.innerHTML = `<h2>${sectionName}</h2>`;
          const ul = document.createElement('ul');

          // Sort tools inside each section
          const tools = (data.sections[sectionName] || []).slice().sort(sortByName);

          tools.forEach(tool => {
            const li = document.createElement('li');
            const safeName = (tool.name || '').toString().trim();
            const safeUrl = (tool.url || '').toString().trim();
            const safeDesc = (tool.desc || '').toString().trim();
            li.innerHTML = `<a href="${safeUrl}" target="_blank" rel="nofollow">${safeName}</a> — ${safeDesc}`;
            ul.appendChild(li);
          });

          sectionEl.appendChild(ul);

          // Optional note for Compliance section
          if (sectionName.toLowerCase() === 'compliance') {
            const p = document.createElement('p');
            p.className = 'note';
            p.textContent = 'General info only. Not legal advice.';
            sectionEl.appendChild(p);
          }

          sectionsEl.appendChild(sectionEl);
        });
      })
      .catch(err => {
        console.error('Error loading JSON:', err);
        document.getElementById('sections').innerHTML = `<p class="note">Error loading data.</p>`;
      });
  </script>
</body>
</html>
